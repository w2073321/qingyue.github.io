!function(e){e.fn.tminusCountDown=function(t){if(void 0!=e(this)[0]){config={},e.extend(config,t),tminusTargetTime=this.setTminustminusTargetTime(config),e.data(e(this)[0],"tminusTargetTime",tminusTargetTime);var s=e.parseJSON(tminusnow);return nowTime=new Date(s.now),browserTime=new Date,timeOffset=Math.floor((nowTime.valueOf()-browserTime.valueOf())/1e3),e.data(e(this)[0],"timeOffset",timeOffset),style=config.style,e.data(e(this)[0],"style",config.style),e.data(e(this)[0],"status","play"),e.data(e(this)[0],"id",config.id),config.event_id&&(e.data(e(this)[0],"event_id",config.event_id),e.ajax({url:tCountAjax.ajaxurl,type:"post",dataType:"json",data:{action:"tminusevents",event_id:config.event_id,countdownNonce:tCountAjax.countdownNonce},success:e.proxy(function(t){e.data(e(this)[0],"eventObj",t)},this)})),config.launchtarget&&e.data(e(this)[0],"launchtarget",config.launchtarget),config.onComplete&&e.data(e(this)[0],"callback",config.onComplete),config.hangtime&&e.data(e(this)[0],"hangtime",config.hangtime),config.omitWeeks&&e.data(e(this)[0],"omitWeeks",config.omitWeeks),config.omitDays&&e.data(e(this)[0],"omitDays",config.omitDays),e("#"+e(this).attr("id")+" ."+style+"-digit").html('<div class="tc_top"></div><div class="tc_bottom"></div>'),diffSecs=Math.floor((tminusTargetTime.valueOf()-nowTime.valueOf())/1e3),e(this).doTminusCountDown(e(this).attr("id"),diffSecs,500),this}},e.fn.stopTminusCountDown=function(){e.data(this[0],"status","stop")},e.fn.startTminusCountDown=function(){e.data(this[0],"status","play"),this.doTminusCountDown(e(this).attr("id"),e.data(this[0],"diffSecs"),500)},e.fn.setTminustminusTargetTime=function(t){var e=new Date;return t.targetDate?e=new Date(t.targetDate.month+"/"+t.targetDate.day+"/"+t.targetDate.year+" "+t.targetDate.hour+":"+t.targetDate.min+":"+t.targetDate.sec+(t.targetDate.utc?" UTC":"")):t.targetOffset&&(e.setFullYear(t.targetOffset.year+e.getFullYear()),e.setMonth(t.targetOffset.month+e.getMonth()),e.setDate(t.targetOffset.day+e.getDate()),e.setHours(t.targetOffset.hour+e.getHours()),e.setMinutes(t.targetOffset.min+e.getMinutes()),e.setSeconds(t.targetOffset.sec+e.getSeconds())),e},e.fn.doTminusCountDown=function(s,a,i){$this=e("#"+s),a<=0&&"countup"!=e.data($this[0],"launchtarget")&&(a=0,e.data($this[0],"status","stop")),secs=Math.abs(a%60),mins=Math.floor(Math.abs(a/60)%60),hours=Math.floor(Math.abs(a/60/60)%24),"true"==e.data($this[0],"omitWeeks")?(days=Math.floor(Math.abs(a/60/60/24)),weeks=0):(days=Math.floor(Math.abs(a/60/60/24)%7),weeks=Math.floor(Math.abs(a/60/60/24/7))),"true"==e.data($this[0],"omitDays")&&(hours+=24*days,days=0),style=e.data($this[0],"style"),$this.dashTminusChangeTo(s,style+"-seconds_dash",secs,i?i:500),$this.dashTminusChangeTo(s,style+"-minutes_dash",mins,i?i:1e3),$this.dashTminusChangeTo(s,style+"-hours_dash",hours,i?i:1e3),$this.dashTminusChangeTo(s,style+"-days_dash",days,i?i:1e3),$this.dashTminusChangeTo(s,style+"-days_trip_dash",days,i?i:1e3),$this.dashTminusChangeTo(s,style+"-weeks_dash",weeks,i?i:1e3),$this.dashTminusChangeTo(s,style+"-weeks_trip_dash",weeks,i?i:1e3),e.data($this[0],"diffSecs",a),e.data($this[0],"event_id")&&$this.checkEvent(s,a),a>0||"countup"==e.data($this[0],"launchtarget")?"play"==e.data($this[0],"status")&&(nowTime=new Date,timeOffset=e.data($this[0],"timeOffset"),nowTime.setSeconds(nowTime.getSeconds()+timeOffset),a=Math.floor((e.data($this[0],"tminusTargetTime").valueOf()-nowTime.valueOf())/1e3),t=setTimeout(function(){$this.doTminusCountDown(s,a)},1e3)):e.data($this[0],"callback")&&(e.data($this[0],"hangtime"),e.data($this[0],"callback")())},e.fn.dashTminusChangeTo=function(t,s,a,i){$this=e("#"+t),style=e.data($this[0],"style");for(var n=$this.find("."+s+" ."+style+"-digit").length-1;n>=0;n--){var o=a%10;a=(a-o)/10,$this.digitTminusChangeTo("#"+$this.attr("id")+" ."+s+" ."+style+"-digit:eq("+n+")",o,i)}},e.fn.digitTminusChangeTo=function(t,s,a){a||(a=500),"undefined"!=typeof numTransObj&&(s=numTransObj[s]),e(t+" div.tc_top").html()!=s+""&&(e(t+" div.tc_top").css({display:"none"}),e(t+" div.tc_top").html(s?s:"0").stop(!0,!0,!0).slideDown(a),e(t+" div.tc_bottom").stop(!0,!0,!0).animate({height:""},a,function(){e(t+" div.tc_bottom").html(e(t+" div.tc_top").html()),e(t+" div.tc_bottom").css({display:"block",height:""}),e(t+" div.tc_top").hide().slideUp(10)}))},e.fn.checkEvent=function(){if(e.data(this[0],"eventObj")){var t=e.data(this[0],"eventObj").tevent;for(var s in t)if(t[s].hasOwnProperty("tevents_event_time")&&t[s].tevents_event_time==e.data(this[0],"diffSecs")&&(t[s].hasOwnProperty("tevents_target_elem")&&"other"==t[s].tevents_event_target?target_elem=t[s].tevents_target_elem:target_elem="#"+e.data(this[0],"id")+"-"+t[s].tevents_event_target,e(target_elem).html(t[s].tevents_event_content),t[s].tevents_event_function)){var a=window[t[s].tevents_event_function];"function"==typeof a&&a()}}}}(jQuery);